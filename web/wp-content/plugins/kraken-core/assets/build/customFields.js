(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n,i){return(n=function(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}const n=window.wp.components,i=window.wp.element,r=window.ReactJSXRuntime;function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach(function(n){t(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}const{registerComponent:s}=window.mtphrSettingsRegistry||{};s?s("picklist",({field:e,value:t,settingsOption:o,onChange:s})=>{const{class:a,disabled:c,id:d,choices:u}=e,{baseControlProps:p}=(0,n.useBaseControlProps)(e),m=(0,i.useMemo)(()=>Array.isArray(t)?t:[],[t]),b=(0,i.useMemo)(()=>Object.keys(u||{}),[u]),x=(0,i.useMemo)(()=>b.filter(e=>!m.includes(e)),[b,m]),[f,y]=(0,i.useState)([]),[g,h]=(0,i.useState)([]),j=(0,i.useCallback)(e=>{s({id:d,value:e,settingsOption:o})},[d,s,o]),v=({ids:e,selected:t,onToggle:i,onDoubleClick:o,ariaLabel:l})=>(0,r.jsxs)(n.__experimentalVStack,{as:"ul",spacing:1,style:{listStyle:"none",margin:0,padding:"8px",border:"1px solid var(--wp-components-color-gray-200, #ddd)",borderRadius:"8px",minHeight:"200px",overflowY:"auto"},role:"listbox","aria-label":l,"aria-multiselectable":"true",children:[e.map(e=>{const l=t.includes(e);return(0,r.jsx)("li",{children:(0,r.jsx)(n.Button,{variant:l?"primary":"secondary",isPressed:l,onClick:()=>i(e),onDoubleClick:()=>o(e),disabled:c,__next40pxDefaultSize:!0,style:{width:"100%",justifyContent:"space-between"},children:(0,r.jsx)(n.__experimentalText,{as:"span",children:u[e]})})},e)}),0===e.length&&(0,r.jsx)(n.__experimentalText,{variant:"muted",children:"—"})]});return(0,r.jsx)(n.BaseControl,l(l({},p),{},{__nextHasNoMarginBottom:!0,className:`picklist ${a}`,children:(0,r.jsx)(n.__experimentalVStack,{spacing:2,children:(0,r.jsxs)(n.__experimentalHStack,{alignment:"top",spacing:3,style:{width:"100%"},children:[(0,r.jsxs)(n.Flex,{direction:"column",style:{flex:1,minWidth:0},children:[(0,r.jsx)(n.FlexItem,{children:(0,r.jsx)(n.__experimentalText,{as:"div",style:{fontWeight:600,marginBottom:6},children:"Enabled"})}),(0,r.jsx)(n.FlexItem,{children:(0,r.jsx)(v,{ids:x,selected:f,onToggle:e=>{y(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onDoubleClick:e=>{const t=Array.from(new Set([...m,e]));j(t),y(t=>t.filter(t=>t!==e))},ariaLabel:"Enabled items"})})]}),(0,r.jsxs)(n.Flex,{direction:"column",gap:2,align:"center",justify:"center",style:{paddingTop:"35px",position:"sticky",top:"20px"},children:[(0,r.jsx)(n.Button,{variant:"primary",onClick:()=>{if(c||0===f.length)return;const e=Array.from(new Set([...m,...f]));j(e),y([])},disabled:c||0===f.length,__next40pxDefaultSize:!0,children:"Move to Disabled →"}),(0,r.jsx)(n.Button,{variant:"secondary",onClick:()=>{if(c||0===g.length)return;const e=m.filter(e=>!g.includes(e));j(e),h([])},disabled:c||0===g.length,__next40pxDefaultSize:!0,children:"← Move to Enabled"})]}),(0,r.jsxs)(n.Flex,{direction:"column",style:{flex:1,minWidth:0},children:[(0,r.jsx)(n.FlexItem,{children:(0,r.jsx)(n.__experimentalText,{as:"div",style:{fontWeight:600,marginBottom:6},children:"Disabled"})}),(0,r.jsx)(n.FlexItem,{children:(0,r.jsx)(v,{ids:m,selected:g,onToggle:e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},onDoubleClick:e=>{const t=m.filter(t=>t!==e);j(t),h(t=>t.filter(t=>t!==e))},ariaLabel:"Disabled items"})})]})]})})}))}):console.error("mtphrSettingsRegistry is not available.")})();