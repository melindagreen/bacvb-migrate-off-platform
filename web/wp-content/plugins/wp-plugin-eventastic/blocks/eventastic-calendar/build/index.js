(()=>{var e,t={741:(e,t,o)=>{"use strict";const n=window.wp.blocks,s=window.wp.i18n,i=window.wp.blockEditor,l=window.wp.serverSideRender;var a=o.n(l);const r=window.React,d=window.wp.components,c=window.wp.data,u=(window.wp.date,window.wp.element),h=(window.wp.coreData,window.lodash);var p=o(942),g=o.n(p);const f=window.wp.compose,m=window.wp.keycodes,b=window.wp.isShallowEqual;var v=o.n(b);const C=window.ReactJSXRuntime;function w({value:e,label:t,status:o,title:n,displayTransform:i,isBorderless:l=!1,disabled:a=!1,onClickRemove:r=h.noop,onMouseEnter:c,onMouseLeave:u,messages:p,termPosition:m,termsCount:b}){const v=(0,f.useInstanceId)(w),_=g()("components-form-token-field__token",{"is-error":"error"===o,"is-success":"success"===o,"is-validating":"validating"===o,"is-borderless":l,"is-disabled":a}),x=i(t),S=(0,s.sprintf)(/* translators: 1: term name, 2: term position in a set of terms, 3: total term set count. */ /* translators: 1: term name, 2: term position in a set of terms, 3: total term set count. */
(0,s.__)("%1$s (%2$s of %3$s)"),x,m,b);return(0,C.jsxs)("span",{className:_,onMouseEnter:c,onMouseLeave:u,title:n,children:[(0,C.jsxs)("span",{className:"components-form-token-field__token-text",id:`components-form-token-field__token-text-${v}`,children:[(0,C.jsx)(d.VisuallyHidden,{as:"span",children:S}),(0,C.jsx)("span",{"aria-hidden":"true",children:x})]}),(0,C.jsx)(d.Button,{className:"components-form-token-field__remove-token",onClick:!a&&(()=>r({value:e})),label:p.remove,"aria-describedby":`components-form-token-field__token-text-${v}`})]})}class _ extends u.Component{constructor(){super(...arguments),this.onChange=this.onChange.bind(this),this.bindInput=this.bindInput.bind(this)}focus(){this.input.focus()}hasFocus(){return this.input===this.input.ownerDocument.activeElement}bindInput(e){this.input=e}onChange(e){this.props.onChange({value:e.target.value})}render(){const{value:e,isExpanded:t,instanceId:o,selectedSuggestionIndex:n,className:s,...i}=this.props,l=e?e.length+1:0;return(0,C.jsx)("input",{ref:this.bindInput,id:`components-form-token-input-${o}`,type:"text",...i,value:e||"",onChange:this.onChange,size:l,className:g()(s,"components-form-token-field__input"),autoComplete:"off",role:"combobox","aria-expanded":t,"aria-autocomplete":"list","aria-owns":t?`components-form-token-suggestions-${o}`:void 0,"aria-activedescendant":-1!==n?`components-form-token-suggestions-${o}-${n}`:void 0,"aria-describedby":`components-form-token-suggestions-howto-${o}`})}}const x=_;function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function k(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof o){var s=e.document;"number"!=typeof(o=s.documentElement[n])&&(o=s.body[n])}return o}function j(e){return k(e)}function P(e){return k(e,!0)}function I(e){var t=function(e){var t,o,n,s=e.ownerDocument,i=s.body,l=s&&s.documentElement;return o=(t=e.getBoundingClientRect()).left,n=t.top,{left:o-=l.clientLeft||i.clientLeft||0,top:n-=l.clientTop||i.clientTop||0}}(e),o=e.ownerDocument,n=o.defaultView||o.parentWindow;return t.left+=j(n),t.top+=P(n),t}var D,E=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),L=/^(top|right|bottom|left)$/,R="currentStyle",O="runtimeStyle",F="left";function M(e,t){for(var o=0;o<e.length;o++)t(e[o])}function N(e){return"border-box"===D(e,"boxSizing")}"undefined"!=typeof window&&(D=window.getComputedStyle?function(e,t,o){var n="",s=e.ownerDocument,i=o||s.defaultView.getComputedStyle(e,null);return i&&(n=i.getPropertyValue(t)||i[t]),n}:function(e,t){var o=e[R]&&e[R][t];if(E.test(o)&&!L.test(t)){var n=e.style,s=n[F],i=e[O][F];e[O][F]=e[R][F],n[F]="fontSize"===t?"1em":o||0,o=n.pixelLeft+"px",n[F]=s,e[O][F]=i}return""===o?"auto":o});var A=["margin","border","padding"];function B(e,t,o){var n,s,i,l=0;for(s=0;s<t.length;s++)if(n=t[s])for(i=0;i<o.length;i++){var a;a="border"===n?"".concat(n+o[i],"Width"):n+o[i],l+=parseFloat(D(e,a))||0}return l}function V(e){return null!=e&&e==e.window}var H={};function K(e,t,o){if(V(e))return"width"===t?H.viewportWidth(e):H.viewportHeight(e);if(9===e.nodeType)return"width"===t?H.docWidth(e):H.docHeight(e);var n="width"===t?["Left","Right"]:["Top","Bottom"],s="width"===t?e.offsetWidth:e.offsetHeight,i=(D(e),N(e)),l=0;(null==s||s<=0)&&(s=void 0,(null==(l=D(e,t))||Number(l)<0)&&(l=e.style[t]||0),l=parseFloat(l)||0),void 0===o&&(o=i?1:-1);var a=void 0!==s||i,r=s||l;if(-1===o)return a?r-B(e,["border","padding"],n):l;if(a){var d=2===o?-B(e,["border"],n):B(e,["margin"],n);return r+(1===o?0:d)}return l+B(e,A.slice(o),n)}M(["Width","Height"],(function(e){H["doc".concat(e)]=function(t){var o=t.document;return Math.max(o.documentElement["scroll".concat(e)],o.body["scroll".concat(e)],H["viewport".concat(e)](o))},H["viewport".concat(e)]=function(t){var o="client".concat(e),n=t.document,s=n.body,i=n.documentElement[o];return"CSS1Compat"===n.compatMode&&i||s&&s[o]||i}}));var W={position:"absolute",visibility:"hidden",display:"block"};function U(e){var t,o=arguments;return 0!==e.offsetWidth?t=K.apply(void 0,o):function(e,n){var s,i={},l=e.style;for(s in n)n.hasOwnProperty(s)&&(i[s]=l[s],l[s]=n[s]);for(s in function(){t=K.apply(void 0,o)}.call(e),n)n.hasOwnProperty(s)&&(l[s]=i[s])}(e,W),t}function $(e,t,o){var n=o;if("object"!==S(t))return void 0!==n?("number"==typeof n&&(n+="px"),void(e.style[t]=n)):D(e,t);for(var s in t)t.hasOwnProperty(s)&&$(e,s,t[s])}M(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);H["outer".concat(t)]=function(t,o){return t&&U(t,e,o?0:1)};var o="width"===e?["Left","Right"]:["Top","Bottom"];H[e]=function(t,n){return void 0===n?t&&U(t,e,-1):t?(D(t),N(t)&&(n+=B(t,["padding","border"],o)),$(t,e,n)):void 0}}));var z=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(o,!0).forEach((function(t){T(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return I(e);!function(e,t){"static"===$(e,"position")&&(e.style.position="relative");var o,n,s=I(e),i={};for(n in t)t.hasOwnProperty(n)&&(o=parseFloat($(e,n))||0,i[n]=o+t[n]-s[n]);$(e,i)}(e,t)},isWindow:V,each:M,css:$,clone:function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(V(e)){if(void 0===t)return j(e);window.scrollTo(t,P(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(V(e)){if(void 0===t)return P(e);window.scrollTo(j(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},H);class G extends u.Component{constructor(){super(...arguments),this.handleMouseDown=this.handleMouseDown.bind(this),this.bindList=this.bindList.bind(this)}componentDidUpdate(){this.props.selectedIndex>-1&&this.props.scrollIntoView&&(this.scrollingIntoView=!0,function(e,t,o){o=o||{},9===t.nodeType&&(t=z.getWindow(t));var n=o.allowHorizontalScroll,s=o.onlyScrollIfNeeded,i=o.alignWithTop,l=o.alignWithLeft,a=o.offsetTop||0,r=o.offsetLeft||0,d=o.offsetBottom||0,c=o.offsetRight||0;n=void 0===n||n;var u,h,p,g,f,m,b,v,C,w,_=z.isWindow(t),x=z.offset(e),S=z.outerHeight(e),T=z.outerWidth(e);_?(b=t,w=z.height(b),C=z.width(b),v={left:z.scrollLeft(b),top:z.scrollTop(b)},f={left:x.left-v.left-r,top:x.top-v.top-a},m={left:x.left+T-(v.left+C)+c,top:x.top+S-(v.top+w)+d},g=v):(u=z.offset(t),h=t.clientHeight,p=t.clientWidth,g={left:t.scrollLeft,top:t.scrollTop},f={left:x.left-(u.left+(parseFloat(z.css(t,"borderLeftWidth"))||0))-r,top:x.top-(u.top+(parseFloat(z.css(t,"borderTopWidth"))||0))-a},m={left:x.left+T-(u.left+p+(parseFloat(z.css(t,"borderRightWidth"))||0))+c,top:x.top+S-(u.top+h+(parseFloat(z.css(t,"borderBottomWidth"))||0))+d}),f.top<0||m.top>0?!0===i?z.scrollTop(t,g.top+f.top):!1===i?z.scrollTop(t,g.top+m.top):f.top<0?z.scrollTop(t,g.top+f.top):z.scrollTop(t,g.top+m.top):s||((i=void 0===i||!!i)?z.scrollTop(t,g.top+f.top):z.scrollTop(t,g.top+m.top)),n&&(f.left<0||m.left>0?!0===l?z.scrollLeft(t,g.left+f.left):!1===l?z.scrollLeft(t,g.left+m.left):f.left<0?z.scrollLeft(t,g.left+f.left):z.scrollLeft(t,g.left+m.left):s||((l=void 0===l||!!l)?z.scrollLeft(t,g.left+f.left):z.scrollLeft(t,g.left+m.left)))}(this.list.children[this.props.selectedIndex],this.list,{onlyScrollIfNeeded:!0}),this.props.setTimeout((()=>{this.scrollingIntoView=!1}),100))}bindList(e){this.list=e}handleHover(e){return()=>{this.scrollingIntoView||this.props.onHover(e)}}handleClick(e){return()=>{this.props.onSelect(e)}}handleMouseDown(e){e.preventDefault()}computeSuggestionMatch(e){const t=this.props.displayTransform(this.props.match||"").toLocaleLowerCase();if(0===t.length)return null;const o=(e=this.props.displayTransform(e)).toLocaleLowerCase().indexOf(t);return{suggestionBeforeMatch:e.substring(0,o),suggestionMatch:e.substring(o,o+t.length),suggestionAfterMatch:e.substring(o+t.length)}}render(){return(0,C.jsx)("ul",{ref:this.bindList,className:"components-form-token-field__suggestions-list",id:`components-form-token-suggestions-${this.props.instanceId}`,role:"listbox",children:(0,h.map)(this.props.suggestions,((e,t)=>{const o=this.computeSuggestionMatch(e),n=g()("components-form-token-field__suggestion",{"is-selected":t===this.props.selectedIndex});return(0,C.jsx)("li",{id:`components-form-token-suggestions-${this.props.instanceId}-${t}`,role:"option",className:n,onMouseDown:this.handleMouseDown,onClick:this.handleClick(e),onMouseEnter:this.handleHover(e),"aria-selected":t===this.props.selectedIndex,children:o?(0,C.jsxs)("span",{"aria-label":this.props.displayTransform(e),children:[o.suggestionBeforeMatch,(0,C.jsx)("strong",{className:"components-form-token-field__suggestion-match",children:o.suggestionMatch}),o.suggestionAfterMatch]}):this.props.displayTransform(e)},this.props.displayTransform(e))}))})}}G.defaultProps={match:"",onHover:()=>{},onSelect:()=>{},suggestions:Object.freeze([])};const J=(0,f.withSafeTimeout)(G),Y={incompleteTokenValue:"",inputOffsetFromEnd:0,isActive:!1,isExpanded:!1,selectedSuggestionIndex:-1,selectedSuggestionScroll:!1};class q extends u.Component{constructor(){super(...arguments),this.state=Y,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onFocus=this.onFocus.bind(this),this.onClick=this.onClick.bind(this),this.onBlur=this.onBlur.bind(this),this.deleteTokenBeforeInput=this.deleteTokenBeforeInput.bind(this),this.deleteTokenAfterInput=this.deleteTokenAfterInput.bind(this),this.addCurrentToken=this.addCurrentToken.bind(this),this.onContainerTouched=this.onContainerTouched.bind(this),this.renderToken=this.renderToken.bind(this),this.onTokenClickRemove=this.onTokenClickRemove.bind(this),this.onSuggestionHovered=this.onSuggestionHovered.bind(this),this.onSuggestionSelected=this.onSuggestionSelected.bind(this),this.onInputChange=this.onInputChange.bind(this),this.bindInput=this.bindInput.bind(this),this.bindTokensAndInput=this.bindTokensAndInput.bind(this),this.updateSuggestions=this.updateSuggestions.bind(this),this.addNewTokens=this.addNewTokens.bind(this),this.getValueFromLabel=this.getValueFromLabel.bind(this),this.getLabelFromValue=this.getLabelFromValue.bind(this)}componentDidUpdate(e){this.state.isActive&&!this.input.hasFocus()&&this.input.focus();const{options:t,value:o}=this.props,n=!v()(t,e.options);(n||o!==e.value)&&this.updateSuggestions(n)}static getDerivedStateFromProps(e,t){return e.disabled&&t.isActive?{isActive:!1,incompleteTokenValue:""}:null}bindInput(e){this.input=e}bindTokensAndInput(e){this.tokensAndInput=e}onFocus(e){this.input.hasFocus()||e.target===this.tokensAndInput?this.setState({isActive:!0}):this.setState({isActive:!1}),"function"==typeof this.props.onFocus&&this.props.onFocus(e)}onClick(e){e.target.classList.contains("components-form-token-field__suggestion")||this.setState({isExpanded:!0,isActive:!0})}onBlur(){this.inputHasValidToken()?this.setState({isActive:!1,isExpanded:!1}):this.setState(Y)}onKeyDown(e){let t=!1;switch(e.keyCode){case m.BACKSPACE:t=this.handleDeleteKey(this.deleteTokenBeforeInput);break;case m.ENTER:t=this.addCurrentToken();break;case m.LEFT:t=this.handleLeftArrowKey();break;case m.UP:t=this.handleUpArrowKey();break;case m.RIGHT:t=this.handleRightArrowKey();break;case m.DOWN:t=this.handleDownArrowKey();break;case m.DELETE:t=this.handleDeleteKey(this.deleteTokenAfterInput);break;case m.SPACE:this.props.tokenizeOnSpace&&(t=this.addCurrentToken());break;case m.ESCAPE:t=this.handleEscapeKey(e),e.stopPropagation()}t&&e.preventDefault()}onKeyPress(e){this.state.isExpanded||this.setState({isExpanded:!0})}onContainerTouched(e){e.target===this.tokensAndInput&&this.state.isActive&&e.preventDefault()}onTokenClickRemove(e){this.deleteToken(e.value),this.input.focus()}onSuggestionHovered(e){const t=this.getMatchingSuggestions().indexOf(e);t>=0&&this.setState({selectedSuggestionIndex:t,selectedSuggestionScroll:!1})}onSuggestionSelected(e){this.addNewToken(e)}onInputChange(e){const t=e.value;this.setState({incompleteTokenValue:t},this.updateSuggestions),this.props.onInputChange(t)}handleDeleteKey(e){let t=!1;return this.input.hasFocus()&&this.isInputEmpty()&&(e(),t=!0),t}handleLeftArrowKey(){let e=!1;return this.isInputEmpty()&&(this.moveInputBeforePreviousToken(),e=!0),e}handleRightArrowKey(){let e=!1;return this.isInputEmpty()&&(this.moveInputAfterNextToken(),e=!0),e}getOptionsLabels(e){return e.map((e=>e.label))}getValueFromLabel(e){const t=this.props.options.find((t=>t.label.toLocaleLowerCase()===e.toLocaleLowerCase()));return t?t.value:null}getLabelFromValue(e){const t=this.props.options.find((t=>t.value===e));return t?t.label:null}getOptionsValues(e){return e.map((e=>e.value))}handleUpArrowKey(){return this.setState(((e,t)=>({selectedSuggestionIndex:(0===e.selectedSuggestionIndex?this.getMatchingSuggestions(e.incompleteTokenValue,this.getOptionsLabels(t.options),t.value,t.maxSuggestions,t.saveTransform).length:e.selectedSuggestionIndex)-1,selectedSuggestionScroll:!0}))),!0}handleDownArrowKey(){return this.setState(((e,t)=>({selectedSuggestionIndex:(e.selectedSuggestionIndex+1)%this.getMatchingSuggestions(e.incompleteTokenValue,this.getOptionsLabels(t.options),t.value,t.maxSuggestions,t.saveTransform).length,selectedSuggestionScroll:!0,isExpanded:!0}))),!0}handleEscapeKey(e){return this.setState({incompleteTokenValue:e.target.value,isExpanded:!1,selectedSuggestionIndex:-1,selectedSuggestionScroll:!1}),!0}moveInputToIndex(e){this.setState(((t,o)=>({inputOffsetFromEnd:o.value.length-Math.max(e,-1)-1})))}moveInputBeforePreviousToken(){this.setState(((e,t)=>({inputOffsetFromEnd:Math.min(e.inputOffsetFromEnd+1,t.value.length)})))}moveInputAfterNextToken(){this.setState((e=>({inputOffsetFromEnd:Math.max(e.inputOffsetFromEnd-1,0)})))}deleteTokenBeforeInput(){const e=this.getIndexOfInput()-1;e>-1&&this.deleteToken(this.props.value[e])}deleteTokenAfterInput(){const e=this.getIndexOfInput();e<this.props.value.length&&(this.deleteToken(this.props.value[e]),this.moveInputToIndex(e))}addCurrentToken(){let e=!1;const t=this.getSelectedSuggestion();return t?(this.addNewToken(t),e=!0):this.inputHasValidToken()&&(this.addNewToken(this.state.incompleteTokenValue),e=!0),e}addNewTokens(e){const t=(0,h.uniq)(e.map(this.props.saveTransform).filter(Boolean).filter((e=>!this.valueContainsToken(e))));if(t.length>0){const e=t.map((e=>this.getValueFromLabel(e)));let o=(0,h.clone)(this.props.value);o.splice.apply(o,[this.getIndexOfInput(),0].concat(e)),o=[...new Set(o)],this.props.onChange(o)}}addNewToken(e){this.addNewTokens([e]),this.props.speak(this.props.messages.added,"assertive"),this.setState({incompleteTokenValue:"",selectedSuggestionIndex:-1,selectedSuggestionScroll:!1,isExpanded:!1}),this.state.isActive&&this.input.focus()}deleteToken(e){const t=this.props.value.filter((t=>this.getTokenValue(t)!==this.getTokenValue(e)));this.props.onChange(t),this.props.speak(this.props.messages.removed,"assertive")}getTokenValue(e){return e&&e.value?e.value:e}getMatchingSuggestions(e=this.state.incompleteTokenValue,t=this.getOptionsLabels(this.props.options),o=this.props.value,n=this.props.maxSuggestions,s=this.props.saveTransform){let i=s(e);const l=[],a=[],r=o.map((e=>this.getLabelFromValue(e)));return i.length>0&&(i=i.toLocaleLowerCase(),(0,h.each)(t,(e=>{const t=e.toLocaleLowerCase().indexOf(i);-1===o.indexOf(e)&&(0===t?l.push(e):t>0&&a.push(e))})),t=l.concat(a)),t=(0,h.difference)(t,r),(0,h.take)(t,n)}getSelectedSuggestion(){if(-1!==this.state.selectedSuggestionIndex)return this.getMatchingSuggestions()[this.state.selectedSuggestionIndex]}valueContainsToken(e){return(0,h.some)(this.props.value,(t=>this.getTokenValue(e)===this.getTokenValue(t)))}getIndexOfInput(){return this.props.value.length-this.state.inputOffsetFromEnd}isInputEmpty(){return 0===this.state.incompleteTokenValue.length}inputHasValidToken(){const e=this.state.incompleteTokenValue;let t=!1;return e&&e.length>0&&this.props.options.forEach((o=>{o.label.trim().toLocaleLowerCase()===e.trim().toLocaleLowerCase()&&(t=!0)})),t}updateSuggestions(e=!0){const{incompleteTokenValue:t}=this.state,o=this.getMatchingSuggestions(t),n=o.length>0,i={};e&&(i.selectedSuggestionIndex=-1,i.selectedSuggestionScroll=!1),this.setState(i);{const{debouncedSpeak:e}=this.props;e(n?(0,s.sprintf)(/* translators: %d: number of results. */ /* translators: %d: number of results. */
(0,s._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",o.length),o.length):(0,s.__)("No results."),"assertive")}}renderTokensAndInput(){const e=(0,h.map)(this.props.value,this.renderToken);return e.splice(this.getIndexOfInput(),0,this.renderInput()),e}renderToken(e,t,o){const n=this.getTokenValue(e),s=this.getLabelFromValue(n),i=e.status?e.status:void 0,l=t+1,a=o.length;return(0,C.jsx)(w,{value:n,label:s,status:i,title:e.title,displayTransform:this.props.displayTransform,onClickRemove:this.onTokenClickRemove,isBorderless:e.isBorderless||this.props.isBorderless,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:"error"!==i&&this.props.disabled,messages:this.props.messages,termsCount:a,termPosition:l},"token-"+n)}renderInput(){const{autoCapitalize:e,autoComplete:t,maxLength:o,value:n,instanceId:s}=this.props;let i={instanceId:s,autoCapitalize:e,autoComplete:t,ref:this.bindInput,key:"input",disabled:this.props.disabled,value:this.state.incompleteTokenValue,onBlur:this.onBlur,isExpanded:this.state.isExpanded,selectedSuggestionIndex:this.state.selectedSuggestionIndex};return o&&n.length>=o||(i={...i,onChange:this.onInputChange}),(0,C.jsx)(x,{...i})}render(){const{disabled:e,label:t=(0,s.__)("Add item"),instanceId:o,className:n}=this.props,{isExpanded:i}=this.state,l=g()(n,"components-form-token-field__input-container",{"is-active":this.state.isActive,"is-disabled":e});let a={className:"components-form-token-field",tabIndex:"-1"};const r=this.getMatchingSuggestions();return e||(a=Object.assign({},a,{onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onFocus:this.onFocus,onClick:this.onClick})),(0,C.jsxs)("div",{...a,children:[(0,C.jsx)("label",{htmlFor:`components-form-token-input-${o}`,className:"components-form-token-field__label",children:t}),(0,C.jsxs)("div",{ref:this.bindTokensAndInput,className:l,tabIndex:"-1",onMouseDown:this.onContainerTouched,onTouchStart:this.onContainerTouched,children:[this.renderTokensAndInput(),i&&(0,C.jsx)(J,{instanceId:o,match:this.props.saveTransform(this.state.incompleteTokenValue),displayTransform:this.props.displayTransform,suggestions:r,selectedIndex:this.state.selectedSuggestionIndex,scrollIntoView:this.state.selectedSuggestionScroll,onHover:this.onSuggestionHovered,onSelect:this.onSuggestionSelected})]})]})}}q.defaultProps={options:Object.freeze([]),maxSuggestions:100,value:Object.freeze([]),displayTransform:h.identity,saveTransform:e=>e?e.trim():"",onChange:()=>{},onInputChange:()=>{},isBorderless:!1,disabled:!1,tokenizeOnSpace:!1,messages:{added:(0,s.__)("Item added."),removed:(0,s.__)("Item removed."),remove:(0,s.__)("Remove item")}};const X=(0,d.withSpokenMessages)((0,f.withInstanceId)(q)),Q=(0,c.withSelect)((e=>{const t={};return t.terms=e("core").getEntityRecords("taxonomy","eventastic_categories",{per_page:-1}),t.terms&&t.terms.length||(t.terms=[]),t}))((e=>{const{attributes:t,setAttributes:o,terms:n}=e;return(0,C.jsxs)("div",{className:`content-selector eventastic-calendar-block ${e.className}`,children:[(0,C.jsxs)(d.PanelBody,{title:"Content",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Limit the Categories to Show?"),checked:t.contentConfig_useAllCategories,onChange:()=>{o({contentConfig_useAllCategories:!t.contentConfig_useAllCategories})}})}),t.contentConfig_useAllCategories&&(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(X,{value:t.contentConfig_categories,label:"Only Show the Following Categories",options:[...n.map((e=>({value:e.slug,label:e.name.replace("&amp;","&")})))],onChange:e=>o({contentConfig_categories:e})})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Message to show when no events found"),value:t.contentConfig_failureMessage,onChange:e=>{o({contentConfig_failureMessage:e})}})})]}),(0,C.jsxs)(d.PanelBody,{title:"Layout",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Layout Format"),value:t.layoutStyle,options:[{label:"List Only",value:"list"},{label:"Calendar Only",value:"calendar"},{label:"Calendar and List (Integrated)",value:"integrated"},{label:"Calendar and List (Toggled)",value:"toggled"}],onChange:e=>{o({layoutStyle:e})}})}),"integrated"===t.layoutStyle&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Calendar Location"),value:t.integratedCalendarLocation,options:[{label:"Calendar in Sidebar",value:"sidebar"},{label:"Calendar on top",value:"top"}],onChange:e=>{o({integratedCalendarLocation:e})}})}),"calendar"!==t.layoutStyle&&(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Cards Per Row "),value:t.listConfig_cardsPerRow,options:[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"}],onChange:e=>{o({listConfig_cardsPerRow:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.__experimentalNumberControl,{label:(0,s.__)("Max # Events to Show in Grid"),value:t.maxNumberOfGridEventsToShow,onChange:e=>{o({maxNumberOfGridEventsToShow:e})}})})]}),(0,C.jsx)(d.PanelBody,{title:"Style",children:(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Stylesheet Options"),value:t.styleSheet,options:[{label:"Default",value:"default"},{label:"Option One",value:"style-one"},{label:"None",value:"none"}],onChange:e=>{o({styleSheet:e})}})})}),(0,C.jsxs)(d.PanelBody,{title:"Filter & Search",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Use Filters?"),checked:t.useFilters,onChange:()=>{o({useFilters:!t.useFilters})}})}),t.useFilters&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Filters Location"),value:t.filterLocation,options:[{label:"Left Sidebar",value:"sidebar"},{label:"Above",value:"above"}],onChange:e=>{o({filterLocation:e})}})}),t.useFilters&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Use Date Filters?"),checked:t.filterConfig_useDates,onChange:()=>{o({filterConfig_useDates:!t.filterConfig_useDates})}})}),t.filterConfig_useDates&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("End Date Default For Queries?"),value:t.filterConfig_endDateDefault,options:[{label:"Same as Start Date",value:"start_date"},{label:"Through Current Month",value:"one_month"},{label:"Through the Next Month",value:"two_month"},{label:"Through Two More Months",value:"three_month"}],onChange:e=>{o({filterConfig_endDateDefault:e})}})}),t.filterConfig_useDates&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Prepopulate End Date Input?"),checked:t.filterConfig_fillEndDateInput,onChange:()=>{o({filterConfig_fillEndDateInput:!t.filterConfig_fillEndDateInput})}})}),t.useFilters&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Use Keyword Filter?"),checked:t.filterConfig_useKeyword,onChange:()=>{o({filterConfig_useKeyword:!t.filterConfig_useKeyword})}})}),t.useFilters&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Use Category Filter?"),checked:t.filterConfig_useCategories,onChange:()=>{o({filterConfig_useCategories:!t.filterConfig_useCategories})}})}),t.useFilters&&t.filterConfig_useCategories&&(0,C.jsx)(d.PanelRow,{className:"sub-sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Category Filter Type"),value:t.filterConfig_categoryElementType,options:[{label:"Buttons",value:"buttons"},{label:"Dropdown Select",value:"select"},{label:"Checkboxes",value:"checkboxes"}],onChange:e=>{o({filterConfig_categoryElementType:e})}})}),t.useFilters&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Use Filter Reset?"),checked:t.filterConfig_useFilterReset,onChange:()=>{o({filterConfig_useFilterReset:!t.filterConfig_useFilterReset})}})}),t.useFilters&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Use Search Submit?"),checked:t.filterConfig_useFilterSubmit,onChange:()=>{o({filterConfig_useFilterSubmit:!t.filterConfig_useFilterSubmit})}})})]}),"list"!==t.layoutStyle&&(0,C.jsxs)(d.PanelBody,{title:"Calendar Configurations",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("How to Display Events on Calendar"),value:t.calendarConfig_eventRenderType,options:[{label:"Empty Circle",value:"emptyCircle"},{label:"Circle with Number of Events",value:"numberedCircle"},{label:"List of events",value:"list"}],onChange:e=>{o({calendarConfig_eventRenderType:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Calendar Header - Left"),value:t.calendarConfig_headerToolbarStart,onChange:e=>{o({calendarConfig_headerToolbarStart:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Calendar Header - Center"),value:t.calendarConfig_headerToolbarCenter,onChange:e=>{o({calendarConfig_headerToolbarCenter:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Calendar Header - Right"),value:t.calendarConfig_headerToolbarEnd,onChange:e=>{o({calendarConfig_headerToolbarEnd:e})}})})]}),"calendar"!==t.layoutStyle&&(0,C.jsxs)(d.PanelBody,{title:"List/Grid Configurations",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show List Title?"),checked:t.listConfig_showTitle,onChange:()=>{o({listConfig_showTitle:!t.listConfig_showTitle})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("How to Display Recurring Events in List"),value:t.listConfig_recurringDateHandler,options:[{label:"Show Event Card Once",value:"showOnce"},{label:"Show Event Card for Each Date",value:"showEachDate"}],onChange:e=>{o({listConfig_recurringDateHandler:e})}})})]}),(0,C.jsxs)(d.PanelBody,{title:"Event Card Content",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Categories?"),checked:t.cardConfig_showCategories,onChange:()=>{o({cardConfig_showCategories:!t.cardConfig_showCategories})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Address?"),checked:t.cardConfig_showAddress,onChange:()=>{o({cardConfig_showAddress:!t.cardConfig_showAddress})}})}),t.cardConfig_showAddress&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Address Format"),value:t.cardConfig_addressFormat,options:[{label:"Street",value:"street"},{label:"Street & City",value:"street_city"},{label:"Street, City & State",value:"street_city_state"},{label:"Street, City, State & Zip",value:"street_city_state_zip"},{label:"City & State",value:"city_state"}],onChange:e=>{o({cardConfig_addressFormat:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Date?"),checked:t.cardConfig_showDate,onChange:()=>{o({cardConfig_showDate:!t.cardConfig_showDate})}})}),t.cardConfig_showDate&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Date Style"),value:t.cardConfig_dateStyle,options:[{label:"Start Date",value:"startDate"},{label:"Next Date",value:"nextDate"},{label:"Start Date through End Date",value:"range"}],onChange:e=>{o({cardConfig_dateStyle:e})}})}),t.cardConfig_showDate&&(0,C.jsx)(d.PanelRow,{className:"sub-row",children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Date Format"),value:t.cardConfig_dateFormat,options:[{label:"2024-03-21",value:"Y-M-D"},{label:"03-21",value:"M-D"},{label:"03/21",value:"M/D"},{label:"Mar 3",value:"m D"}],onChange:e=>{o({cardConfig_dateFormat:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Time?"),checked:t.cardConfig_showTime,onChange:()=>{o({cardConfig_showTime:!t.cardConfig_showTime})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Describe Reccurence Pattern?"),checked:t.cardConfig_showPatternString,onChange:()=>{o({cardConfig_showPatternString:!t.cardConfig_showPatternString})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Upcoming Dates?"),checked:t.cardConfig_showUpcomingDates,onChange:()=>{o({cardConfig_showUpcomingDates:!t.cardConfig_showUpcomingDates})}})}),t.cardConfig_showUpcomingDates&&(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Date Format for Upcoming Dates"),value:t.cardConfig_upcomingDateFormat,options:[{label:"2024-03-21",value:"Y-M-D"},{label:"03-21",value:"M-D"},{label:"03/21",value:"M/D"},{label:"Mar 3",value:"m D"}],onChange:e=>{o({cardConfig_upcomingDateFormat:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Thumbnail?"),checked:t.cardConfig_showThumbnail,onChange:()=>{o({cardConfig_showThumbnail:!t.cardConfig_showThumbnail})}})}),t.cardConfig_showThumbnail&&(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Image Size"),value:t.cardConfig_imageSize,onChange:e=>{o({cardConfig_imageSize:e})}})})]}),(0,C.jsxs)(d.PanelBody,{title:"Functionality",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.SelectControl,{label:(0,s.__)("Initial Load Date Range"),value:t.listConfig_initialLoadDateRange,options:[{label:"1 Month",value:"1_month"},{label:"2 Months",value:"2_months"},{label:"3 Months",value:"3_months"},{label:"1 Week",value:"1_week"},{label:"This Weekend",value:"this_weekend"},{label:"Today",value:"today"},{label:"Custom Length",value:"custom_length"},{label:"Custom Range",value:"custom_range"}],onChange:e=>{o({listConfig_initialLoadDateRange:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Initial Load List Title"),value:t.listConfig_initialTitle,onChange:e=>{o({listConfig_initialTitle:e})}})}),"custom_range"==t.listConfig_initialLoadDateRange&&(0,C.jsxs)("div",{children:[(0,C.jsx)("label",{class:"mm-gb-label",children:"Start Date"}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.DateTimePicker,{currentDate:t.listConfig_startDate,is12Hour:!0,onChange:e=>{o({listConfig_startDate:e})}})}),(0,C.jsx)("label",{class:"mm-gb-label",children:"End Date"}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.DateTimePicker,{currentDate:t.listConfig_endDate,is12Hour:!0,onChange:e=>{o({listConfig_endDate:e})}})})]}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Show Past Events?"),checked:t.showPastEvents,onChange:()=>{o({showPastEvents:!t.showPastEvents})}})}),"list"!==t.layoutStyle&&(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Preload Events From Server?"),checked:t.preloadEvents,onChange:()=>{o({preloadEvents:!t.preloadEvents})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.__experimentalNumberControl,{isShiftStepEnabled:!0,shiftStep:1,label:(0,s.__)("Max # Events to Preload"),value:t.maxNumberOfGridEventsToPreLoad,onChange:e=>{o({maxNumberOfGridEventsToPreLoad:e})}})})]}),(0,C.jsxs)(d.PanelBody,{title:"Developer Configurations",children:[(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.TextControl,{label:(0,s.__)("Block Namespace for JS Overrides"),value:t.blockConfig_jsOverrideNamespace,onChange:e=>{o({blockConfig_jsOverrideNamespace:e})}})}),(0,C.jsx)(d.PanelRow,{children:(0,C.jsx)(d.ToggleControl,{label:(0,s.__)("Enable Developer Mode?"),checked:t.blockConfig_developerMode,onChange:()=>{o({blockConfig_developerMode:!t.blockConfig_developerMode})}})})]})]})})),Z=e=>(0,C.jsx)(i.InspectorControls,{children:(0,C.jsx)(Q,{...e})}),ee="eventastic_calendar",te=e=>{const{attributes:t,setAttributes:o}=e,n="edit"===t.mode,i=()=>{o({mode:n?"preview":"edit"})},l=(0,C.jsx)(d.Button,{label:(0,s.__)("Preview",ee),icon:"visibility",onClick:i}),a=(0,C.jsx)(d.Button,{label:(0,s.__)("Edit",ee),icon:"edit",onClick:i});return n?l:a},oe=e=>(0,C.jsx)(d.Toolbar,{children:(0,C.jsx)(te,{...e})}),ne=e=>(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(i.BlockControls,{children:(0,C.jsx)(oe,{...e})}),(0,C.jsx)(Z,{...e})]}),se=e=>{const{attributes:t,className:o}=e,n=(0,i.useBlockProps)();return(0,C.jsx)("div",{className:o,...n,children:"edit"===t.mode?(0,C.jsx)(Q,{...e}):(0,C.jsx)(a(),{block:e.name,...e})})},ie=JSON.parse('{"UU":"create-block/eventastic-calendar"}');(0,n.registerBlockType)(ie.UU,{edit:e=>(0,C.jsxs)("p",{...(0,i.useBlockProps)(),children:[(0,C.jsx)(ne,{...e}),(0,C.jsx)(se,{...e})]}),save:function(){return(0,C.jsx)("p",{...i.useBlockProps.save(),children:"Eventastic Calendar â€“ hello from the saved content!"})}})},942:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=l(e,i(o)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)n.call(e,o)&&e[o]&&(t=l(t,o));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()}},o={};function n(e){var s=o[e];if(void 0!==s)return s.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,o,s,i)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,s,i]=e[c],a=!0,r=0;r<o.length;r++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](o[r])))?o.splice(r--,1):(a=!1,i<l&&(l=i));if(a){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,s,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var s,i,[l,a,r]=o,d=0;if(l.some((t=>0!==e[t]))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(r)var c=r(n)}for(t&&t(o);d<l.length;d++)i=l[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=globalThis.webpackChunkeventastic_calendar=globalThis.webpackChunkeventastic_calendar||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var s=n.O(void 0,[350],(()=>n(741)));s=n.O(s)})();